<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <title>Botiga</title>
</head>
<body>
        <div id="app">

          <div id="container-portada">
            

          </div>
          

          <!-- PRINCIPAL -->
          <div> 
            <button @click="changeDiv('store')">Store</button>
            <button @click="changeDiv('cart')">cart ({{objectsInCart}})</button>
          </div>

          <div v-if="visible === 'store'" v-for="(product, index) in templateData.data" id="container-products" class=""> 
            <img @click="showSelectedProduct(product)" :src="product.image" alt="" width="200px">
            <label for="">{{ product.title }}</label>
          </div>  


          <!-- Only selected product -->


          <div v-if="visible === 'productSelec'" id="only-product-selected">
              <h3 class="name-product">{{selectedProduct.name}}</h3>
              <img :src="selectedProduct.image" alt="" width="400px">
              <p class="price">${{selectedProduct.price}}</p>
              
              <select name="size" id="">
                <option disabled value="">Size</option>
                <option v-for="(size, index) in selectedProduct.size" value="">
                  {{ size }}
                </option>
              </select>
              <select name="colors" id="">
                <option v-for="(color, index) in selectedProduct.colors" value="">
                  {{ color }}
                </option>
              </select>
              <p class="description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Repudiandae vel deserunt nam aspernatur? Animi quidem dignissimos beatae facere tempore non.</p>

              <input @click="changeDiv('onlyOneBuy')" type="button" value="Buy">
              <input @click="addToCart(selectedProduct)" type="button" value="Add to cart">

          </div>

          <!------- CAAAAAAAAAART  ----------->
          <div v-if="visible ==='cart' " id="contaires-cart" class="">
            <div v-if="objectsInCart > 0" v-for="(prodCart,index) in cart">
              <div :id="prodCart.id">
                <img :src="prodCart.image" id="index" alt="" width="200px">
                <h3> {{ prodCart.title}}</h3>
               <!--- <p v-if="sameSelectedProduct()">Contador: {{  incrementCounterSameProducts() }}</p>-->
                <button @click="deleteById(index)">Delete by id</button>
              </div>
             
            </div>
            <button @click="cleanCart()">Delete All</button>
            <button @click="changeDiv('buyingAll')">Buy</button>
          </div>
          

          <!-- BUUUUUUUYYY -->
           <div v-if ="visible === 'buyingAll' "  id="container-buy">
            <div v-if="objectsInCart > 0 " v-for="(prodCart,index) in cart">
              <img :src="prodCart.image" id="index" alt="" width="200px">
              <h3> {{ prodCart.title}}</h3>
            </div>
              <button>Continue</button>
              <button @click="cancelPurchase()">Cancel</button>
           </div>

           <div v-if="visible === 'onlyOneBuy' && selectedProduct">
            <img :src="selectedProduct.image" alt="" width="200px">
            <h3> {{ selectedProduct.title }}</h3>
              <button>Continue</button>
              <button>Cancel</button>
          </div>
        </div>
                   
        <script  src="./js/utils.js" type="module"></script>


</html>